# 프로젝트_아보카도_요구사항 정의서

## **1. 개요**

### **1.1. 프로젝트 목표**

발화에 어려움을 겪는 사용자들이 AI 기반 텍스트-음성 변환(TTS) 및 개인 맞춤형 음성 모델 생성을 통해 자연스럽게 소통하고 자신을 표현할 수 있도록 돕는 서비스 '아보카도'를 개발한다.

### **1.2. 대상 사용자**

- **발화 장애 사용자**: 일상 대화나 발음에 제약이 있는 사람
- **발음 교정 학습자**: 언어 학습 과정에서 발음 교정이 필요한 사람
- **일반 사용자**: 자신의 목소리 톤을 활용해 텍스트를 음성으로 변환하고 싶은 사람

---

## **2. 기능적 요구사항 (Functional Requirements)**

### **2.1. 회원 관리 기능**

- **FR-1.01 회원가입**: 사용자는 이메일, 비밀번호, 이름, **생년월일**, 성별을 입력해 회원가입할 수 있다.
- **FR-1.02 로그인**: 등록된 이메일과 비밀번호로 로그인할 수 있다.
- **FR-1.03 사용자 정보 조회**: 로그인 후 본인의 이름, 이메일 등 개인 정보를 확인할 수 있다.
- **FR-1.04 비밀번호 재설정**: 사용자는 이메일 인증을 통해 비밀번호를 재설정할 수 있다.

### **2.2. 텍스트-음성 변환 (TTS) 기능**

- **FR-2.01 텍스트 입력**: 사용자는 텍스트 입력창에 변환하고자 하는 내용을 입력할 수 있다.
- **FR-2.02 모델 선택**: 사용자는 기본 제공되는 **남성, 여성, 캐릭터** 3개의 AI 음성 모델 또는 본인이 생성한 커스텀 음성 모델 중 하나를 선택할 수 있다.
- **FR-2.03 음성 변환**: 사용자가 입력한 텍스트와 선택한 모델을 기반으로 음성 파일을 생성한다.
- **FR-2.04 음성 재생**: 변환된 음성 파일을 웹 브라우저에서 **재생, 일시정지, 탐색**할 수 있다.
- **FR-2.05 음성 다운로드**: 변환된 음성 파일을 MP3 또는 WAV 형식으로 다운로드할 수 있다.
- **FR-2.06 음성 공유**: 변환된 음성 파일의 다운로드 링크를 이메일로 전송할 수 있다.

### **2.3. 커스텀 음성 모델 생성 기능**

- **FR-3.01 사용자 음성 파일 업로드**: 사용자는 커스텀 모델 생성을 위해 일정 시간(예: 3분) 이상의 음성 파일을 `.wav` 또는 `.mp3` 형식으로 업로드할 수 있다.
- **FR-3.02 업로드 가이드 제공**: 사용자에게 고품질 모델 생성을 위한 녹음 가이드(예: 조용한 환경)를 제공한다.
- **FR-3.03 음성 파일 유효성 검사**: 시스템은 업로드된 파일이 너무 짧거나 품질이 현저히 낮은 경우 사용자에게 피드백하고 재업로드를 유도해야 한다.
- **FR-3.04 스피커 임베딩 추출**: 시스템은 업로드된 음성 파일에서 발음과 독립적인 사용자의 고유 음성 특징(음색, 톤 등)을 추출하여 **스피커 임베딩 벡터**를 생성한다. 이는 Coqui XTTS 모델의 사전 학습된 스피커 인코더를 활용한다.
- **FR-3.05 모델 저장**: 생성된 커스텀 음성 모델을 "내 목소리 버전"으로 저장하고 관리할 수 있다.

### **2.4. 결과 관리 기능**

- **FR-4.01 변환 기록**: 사용자가 변환한 모든 음성 파일의 목록을 시간순으로 확인할 수 있다.
- **FR-4.02 기록 조회**: 목록에서 특정 변환 결과(입력 텍스트, 사용 모델, 파일)를 클릭해 상세 내용을 볼 수 있다.
- **FR-4.03 기록 관리**: 사용자는 변환 결과 파일을 삭제할 수 있다.
- **FR-4.04 검색/필터링 기능**: 사용자는 결과 관리 화면에서 날짜, 모델 유형별로 변환 기록을 검색하거나 필터링할 수 있다.

---

## **3. 비기능적 요구사항 (Non-Functional Requirements)**

### **3.1. 성능**

- **NFR-1.01 TTS 변환 속도**: 텍스트-음성 변환은 10초 이내에 완료되어야 한다.
- **NFR-1.02 커스텀 모델(임베딩) 생성 시간**: 커스텀 음성 모델 생성은 최대 10분 이내에 완료되어야 한다.
- **NFR-1.03 응답 시간**: 모든 페이지의 로딩 및 API 응답 시간은 3초를 초과하지 않아야 한다.
- **NFR-1.04 확장성**: 동시 사용자 수 증가 시 서버 자원을 자동 확장(오토스케일링)할 수 있어야 한다.

### **3.2. 사용성**

- **NFR-2.01 사용자 친화적 UI/UX**: 직관적이고 단순한 인터페이스를 제공해 발화 장애를 가진 사용자도 쉽게 사용할 수 있어야 한다.
- **NFR-2.02 접근성**: 마우스, 키보드뿐만 아니라 음성 인식 기능 등 다양한 입력 방법을 고려해야 한다.
- **NFR-2.03 호환성**: 크롬, 파이어폭스, 엣지 등 주요 웹 브라우저에서 문제없이 동작해야 한다.
- **NFR-2.04 오류 처리**: 시스템은 오류 발생 시 사용자에게 명확한 안내 메시지를 제공해야 한다.

---

## **4. 시스템 아키텍처 및 기술 스택**

### **4.1. 기술 스택**

- **프론트엔드**: React, Vite, Tailwind CSS
- **백엔드**: Node.js (Express)
- **DB**: MySQL
- **AI 모델**: Python, FastAPI, PyTorch, **Coqui XTTS v2**
- **클라우드**: 미정

### **4.2. 데이터 모델**

- **User**: `id`, `email`, `pw`, `name`, `age`, `gender`, `createdAt`
- **VoiceModel**: `id`, `userId`, `type`, `name`, `embedding_vector`
- **OutputVoice**: `id`, `userId`, `modelId`, `text`, `fileUrl`, `createdAt`

### **4.3. API 설계**

- **인증**: `POST /api/register`, `POST /api/login`, `POST /api/auth/reset-password`, `GET /api/users/me`
- **커스텀 음성 모델**: `POST /api/models/custom`
- **텍스트-음성 변환**: `POST /api/convert`, `GET /api/history`

---

## **5. 사용 시나리오 (User Scenarios)**

### **5.1. 기본 시나리오 (텍스트-음성 변환)**

1.  사용자는 로그인한다.
2.  메인 화면에서 텍스트 입력창에 내용을 입력한다.
3.  음성 모델을 선택한다. (**남성, 여성, 캐릭터** / 커스텀 모델)
4.  "변환" 버튼을 클릭하면 시스템은 요청을 처리한다.
5.  변환된 음성 결과가 화면에 표시된다. (재생 가능)
6.  사용자는 결과를 다운로드 혹은 이메일 공유한다.

### **5.2. 커스텀 모델 생성 시나리오**

1.  사용자는 "내 목소리 만들기" 탭을 선택한다.
2.  시스템은 녹음 가이드와 함께 파일 업로드 영역을 표시한다.
3.  사용자는 미리 녹음해 둔 음성 파일을 업로드한다.
4.  업로드 완료 후 "내 목소리 만들기 시작" 버튼을 누른다.
5.  시스템은 업로드된 음성 파일을 기반으로 스피커 임베딩을 추출하여 커스텀 모델을 생성한다. (최대 10분 이내)
6.  생성 완료 후 사용자는 TTS 기능에서 "내 목소리 모델"을 선택해 활용할 수 있다.

### **5.3. 결과 관리 시나리오**

1.  사용자는 "결과 관리" 탭에서 자신의 변환 기록을 확인한다.
2.  특정 결과를 클릭하면 세부 정보(입력 텍스트/사용 모델/파일 URL)를 볼 수 있다.
3.  필요 시 다운로드하거나 삭제할 수 있다.
4.  검색/필터링 기능을 활용해 특정 기간·모델별 결과만 확인할 수 있다.